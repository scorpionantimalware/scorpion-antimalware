# Caching the library name to be used in the parent scope.
set(PE_ENGINE "pe_engine" CACHE STRING "PE Engine library name.")

file(GLOB PE_ENGINE_SRC_FILES 
    ${CMAKE_CURRENT_SOURCE_DIR}/peengine.h    
    ${CMAKE_CURRENT_SOURCE_DIR}/peengine.cpp
)

add_library(${PE_ENGINE} SHARED 
    ${PE_ENGINE_SRC_FILES} 
)

set_target_properties(${PE_ENGINE} PROPERTIES VERSION ${SAM_PROJECT_VERSION})

# The Python_LIBRARIES variable comes from the find_package(Python) call in the parent scope.
target_link_libraries(${PE_ENGINE} PUBLIC 
    ${Python_LIBRARIES}
)

# The Python_INCLUDE_DIRS variable comes from the find_package(Python) call in the parent scope.
target_include_directories(${PE_ENGINE} PUBLIC 
    "${CMAKE_CURRENT_SOURCE_DIR}/" 
    "${Python_INCLUDE_DIRS}/" 
)

# A Path to the scripts directory.
set(PE_ENGINE_SCRIPTS_DIR "${CMAKE_CURRENT_SOURCE_DIR}/scripts")

target_compile_definitions(${PE_ENGINE} PUBLIC PE_ENGINE_SCRIPTS_DIR="${PE_ENGINE_SCRIPTS_DIR}")
