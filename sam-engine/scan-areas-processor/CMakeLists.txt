# Caching the library name to be used in the parent scope.
set(SCAN_AREAS_PROCESSOR "sam_scan_areas_processor" CACHE STRING "SAM pathl generator library name.")

file(GLOB SCAN_AREAS_PROCESSOR_SRC_FILES 
    ${CMAKE_CURRENT_SOURCE_DIR}/scanareasprocessor.h
    ${CMAKE_CURRENT_SOURCE_DIR}/scanareasprocessor.cpp
)

# Safety check: Ensure that all the files exist.
foreach(file ${SACN_AREAS_PROCESSOR_SRC_FILES})
    if(NOT EXISTS "${file}")
        message(FATAL_ERROR "File '${file}' does not exist!")
    endif()
endforeach()

add_library(${SCAN_AREAS_PROCESSOR} SHARED  
    ${SCAN_AREAS_PROCESSOR_SRC_FILES} 
)

set_target_properties(${SCAN_AREAS_PROCESSOR} PROPERTIES VERSION ${SAM_PROJECT_VERSION})

target_include_directories(${SCAN_AREAS_PROCESSOR} PUBLIC 
    "${CMAKE_CURRENT_SOURCE_DIR}/" 
)
