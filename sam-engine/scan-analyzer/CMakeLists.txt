# Caching the library name to be used in the parent scope.
set(SAM_SCAN_ANALYZER "sam_scan_analyzer" CACHE STRING "SAM PE pathls generator library name.")

file(GLOB SAM_SCAN_ANALYZER_HPP_FILES 
    ${CMAKE_CURRENT_SOURCE_DIR}/scananalyzer.hpp 
)

file(GLOB SAM_SCAN_ANALYZER_CPP_FILES 
    ${CMAKE_CURRENT_SOURCE_DIR}/scananalyzer.cpp 
)

# Safety check: Ensure that all the files exist.
foreach(file ${SAM_SCAN_ANALYZER_CPP_FILES} ${SAM_SCAN_ANALYZER_HPP_FILES})
    if(NOT EXISTS "${file}")
        message(FATAL_ERROR "File '${file}' does not exist!")
    endif()
endforeach()

add_library(${SAM_SCAN_ANALYZER} SHARED  
    ${SAM_SCAN_ANALYZER_CPP_FILES} 
)

set_target_properties(${SAM_SCAN_ANALYZER} PROPERTIES VERSION ${SAM_PROJECT_VERSION})

target_include_directories(${SAM_SCAN_ANALYZER} PUBLIC 
    "${CMAKE_CURRENT_SOURCE_DIR}/" 
)

# Install the library.
# This is for CPack to be able to package the library.
install(TARGETS ${SAM_SCAN_ANALYZER} RUNTIME DESTINATION .)
