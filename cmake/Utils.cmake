function(download_model_if_not_exist gdrive_file_id output_file)
    if (EXISTS ${output_file})
        message(STATUS "${output_file} already exists")
        return()
    endif()

    set(url "https://drive.google.com/uc?export=download&id=${gdrive_file_id}")
    message(STATUS "Downloading ${url} to ${output_file}")
    
    # Create output directory if it doesn't exist
    get_filename_component(output_dir ${output_file} DIRECTORY)
    file(MAKE_DIRECTORY ${output_dir})

    # Download the file
    file(DOWNLOAD ${url} ${output_file} SHOW_PROGRESS STATUS status)

    # Check the result of the download
    list(GET status 0 result_code)
    if (NOT result_code EQUAL 0)
        list(GET status 1 error_message)
        message(FATAL_ERROR "Error downloading file: ${error_message}")
    endif()

    message(STATUS "Download ${output_file} succeeded.")
endfunction()
